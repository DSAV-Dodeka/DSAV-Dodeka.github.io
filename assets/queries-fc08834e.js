import{a as _,e as y,L as h,d as g,p as f,u as T,s as Q,f as S}from"./index-999dd910.js";import{z as s,m as a}from"./vendor-44375bc4.js";const q=s.object({firstname:s.string(),lastname:s.string(),user_id:s.string(),points:s.number()}),A=s.array(q),b=async(e,t,r,o)=>{let n;t?n="admin":n="members";let l=await _(`${n}/class/get/${r}/`,e,o);const m=A.parse(l);return m.sort((i,p)=>p.points-i.points),m},U=s.object({user_id:s.string()});s.array(U);const $=s.object({user_id:s.string(),firstname:s.string(),lastname:s.string()}),D=s.array($),L=async(e,t)=>{let r=await _("admin/users/names/",e,t);return D.parse(r)},k=(e,t,r)=>{const{isError:o,isLoading:n,error:l,data:m}=e;return!o&&!n?m:(o&&y(l).then(i=>{h.warn({[`Query error ${r}`]:i.j()})}).catch(i=>{h.error({[`Query error ${r}`]:i})}),t)},d=1e3*7,u=1e3*60*30,c=1e3*60*35,w=e=>a(["ud"],()=>T(e),{staleTime:d,enabled:e.authState.isAuthenticated}),N=e=>a(["bd"],()=>g(e),{staleTime:u,cacheTime:c,enabled:e.authState.isAuthenticated}),E=e=>a(["su"],()=>Q(e),{staleTime:d,enabled:e.authState.isAuthenticated}),x=(e,t)=>a([`tr_klass_${t}`],()=>b(e,!1,t),{staleTime:u,cacheTime:c,enabled:e.authState.isAuthenticated}),z=(e,t)=>a([`tr_klass_admin_${t}`],()=>b(e,!0,t),{staleTime:u,cacheTime:c,enabled:e.authState.isAuthenticated}),B=e=>a(["u_names"],()=>L(e),{staleTime:u,cacheTime:c,enabled:e.authState.isAuthenticated}),C=e=>a(["profile"],()=>f(e),{staleTime:u,cacheTime:c,enabled:e.authState.isAuthenticated}),I=e=>a(["u_ud_scope"],()=>S(e),{staleTime:d,enabled:e.authState.isAuthenticated});export{x as a,C as b,E as c,w as d,I as e,z as f,B as g,k as q,N as u};
