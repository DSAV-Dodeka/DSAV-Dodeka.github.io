import{a as m,e as g,L as h,d as y,p as f,u as T,s as q,f as Q}from"./index-038422a0.js";import{z as t,m as i}from"./vendor-44375bc4.js";const p=t.object({firstname:t.string(),lastname:t.string(),user_id:t.string(),points:t.number()}),S=t.object({last_updated:t.coerce.date(),frozen:t.boolean(),points:t.array(p)}),A=async(e,s,a,r)=>{let n;s?n="admin":n="members";let o=await m(`${n}/class/get/${a}/`,e,r);const c=p.array().parse(o);return c.sort((u,b)=>b.points-u.points),c},w=async(e,s,a)=>{let r=await m(`members/class/get_with_info/${s}/`,e,a);const n=S.parse(r);return n.points.sort((o,c)=>c.points-o.points),n},U=t.object({user_id:t.string()});t.array(U);const $=t.object({user_id:t.string(),firstname:t.string(),lastname:t.string()}),j=t.array($),L=async(e,s)=>{let a=await m("admin/users/names/",e,s);return j.parse(a)},k=t.object({type:t.enum(["training","points"]),end_date:t.coerce.date(),hidden_date:t.coerce.date(),start_date:t.coerce.date(),classification_id:t.number()}).array(),D=async(e,s)=>{let a=await m("admin/class/get_meta/4/",e,s);const r=k.parse(a);return console.log(r),r.sort((n,o)=>o.start_date.getTime()-n.start_date.getTime()),r},N=(e,s,a)=>{const{isError:r,isLoading:n,error:o,data:c}=e;return!r&&!n?c:(r&&g(o).then(u=>{h.warn({[`Query error ${a}`]:u.j()})}).catch(u=>{h.error({[`Query error ${a}`]:u})}),s)},_=1e3*7,l=1e3*60*30,d=1e3*60*35,z=e=>i(["ud"],()=>T(e),{staleTime:_,enabled:e.authState.isAuthenticated}),E=e=>i(["bd"],()=>y(e),{staleTime:l,cacheTime:d,enabled:e.authState.isAuthenticated}),M=e=>i(["su"],()=>q(e),{staleTime:_,enabled:e.authState.isAuthenticated}),x=(e,s)=>i([`tr_klass_info_${s}`],()=>w(e,s),{staleTime:l,cacheTime:d,enabled:e.authState.isAuthenticated}),B=(e,s)=>i([`tr_klass_admin_${s}`],()=>A(e,!0,s),{staleTime:l,cacheTime:d,enabled:e.authState.isAuthenticated}),I=e=>i(["u_names"],()=>L(e),{staleTime:l,cacheTime:d,enabled:e.authState.isAuthenticated}),P=e=>i(["profile"],()=>f(e),{staleTime:l,cacheTime:d,enabled:e.authState.isAuthenticated}),v=e=>i(["u_ud_scope"],()=>Q(e),{staleTime:_,enabled:e.authState.isAuthenticated}),F=e=>i(["class_meta"],()=>D(e),{staleTime:_,enabled:e.authState.isAuthenticated});export{x as a,P as b,M as c,z as d,v as e,F as f,B as g,I as h,N as q,E as u};
