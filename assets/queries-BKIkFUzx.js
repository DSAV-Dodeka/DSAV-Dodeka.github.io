import{a as m,e as g,L as _,d as h,p as b,u as f,s as T,f as K}from"./index-D14hCMb_.js";import{z as t,i}from"./vendor-CK6RSgI1.js";const q=t.object({firstname:t.string(),lastname:t.string(),user_id:t.string(),points:t.number()}),Q=t.object({last_updated:t.coerce.date(),frozen:t.boolean(),points:t.array(q)}),S=async(e,s,a,r)=>{let n;n="admin";let u=await m(`${n}/class/get/${a}/`,e,r);const o=q.array().parse(u);return o.sort((c,p)=>p.points-c.points),o},A=async(e,s,a)=>{let r=await m(`members/class/get_with_info/${s}/`,e,a);const n=Q.parse(r);return n.points.sort((u,o)=>o.points-u.points),n},F=t.object({user_id:t.string()});t.array(F);const w=t.object({user_id:t.string(),firstname:t.string(),lastname:t.string()}),U=t.array(w),$=async(e,s)=>{let a=await m("admin/users/names/",e,s);return U.parse(a)},j=t.object({type:t.enum(["training","points"]),end_date:t.coerce.date(),hidden_date:t.coerce.date(),start_date:t.coerce.date(),classification_id:t.number()}).array(),k=async(e,s)=>{let a=await m("admin/class/get_meta/4/",e,s);const r=j.parse(a);return console.log(r),r.sort((n,u)=>u.start_date.getTime()-n.start_date.getTime()),r},C=(e,s,a)=>{const{isError:r,isPending:n,error:u,data:o}=e;return!r&&!n?o:(r&&g(u).then(c=>{_.warn({[`Query error ${a}`]:c.j()})}).catch(c=>{_.error({[`Query error ${a}`]:c})}),s)},y=1e3*7,d=1e3*60*30,l=1e3*60*35,N=e=>i({queryKey:["ud"],queryFn:()=>f(e),staleTime:y,enabled:e.authState.isAuthenticated}),z=e=>i({queryKey:["bd"],queryFn:()=>h(e),staleTime:d,gcTime:l,enabled:e.authState.isAuthenticated}),E=e=>i({queryKey:["su"],queryFn:()=>T(e),staleTime:y,enabled:e.authState.isAuthenticated}),M=(e,s)=>i({queryKey:[`tr_klass_info_${s}`],queryFn:()=>A(e,s),staleTime:d,gcTime:l,enabled:e.authState.isAuthenticated}),P=(e,s)=>i({queryKey:[`tr_klass_admin_${s}`],queryFn:()=>S(e,!0,s),staleTime:d,gcTime:l,enabled:e.authState.isAuthenticated}),x=e=>i({queryKey:["u_names"],queryFn:()=>$(e),staleTime:d,gcTime:l,enabled:e.authState.isAuthenticated}),B=e=>i({queryKey:["profile"],queryFn:()=>b(e),staleTime:d,gcTime:l,enabled:e.authState.isAuthenticated}),I=e=>i({queryKey:["u_ud_scope"],queryFn:()=>K(e),staleTime:y,enabled:e.authState.isAuthenticated}),v=e=>i({queryKey:["class_meta"],queryFn:()=>k(e),staleTime:y,enabled:e.authState.isAuthenticated});export{M as a,B as b,E as c,N as d,I as e,v as f,P as g,x as h,C as q,z as u};
